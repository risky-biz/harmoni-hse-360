import{a as I,b as R,s as U,c as z,d as G,e as v,j as e,l as Z,f as q,g as B}from"./index-CEPkdG4-.js";import{u as W,c as _,r as h}from"./react-vendor-CTgry22P.js";import{u as K}from"./index.esm-Drw8RU7c.js";import{c as T,o as $,a as J,b as N}from"./index.esm-DQwPWBid.js";import{n as O,x,y as c,E as Q,A as w,D as S,F as X,v as Y,w as p,G as A,H as k,I as E,J as ee,b as j,u as se,K as ae,L as re,M as ie,N as le,O as ne}from"./coreui-vendor-BHlqdV6q.js";import"./redux-vendor-CopoOshl.js";var te=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M384,200V144a128,128,0,0,0-256,0v56H88V328c0,92.635,75.364,168,168,168s168-75.365,168-168V200ZM160,144a96,96,0,0,1,192,0v56H160ZM392,328c0,74.99-61.01,136-136,136s-136-61.01-136-136V232H392Z' class='ci-primary'/>"],ce=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M411.6,343.656l-72.823-47.334,27.455-50.334A80.23,80.23,0,0,0,376,207.681V128a112,112,0,0,0-224,0v79.681a80.236,80.236,0,0,0,9.768,38.308l27.455,50.333L116.4,343.656A79.725,79.725,0,0,0,80,410.732V496H448V410.732A79.727,79.727,0,0,0,411.6,343.656ZM416,464H112V410.732a47.836,47.836,0,0,1,21.841-40.246l97.66-63.479-41.64-76.341A48.146,48.146,0,0,1,184,207.681V128a80,80,0,0,1,160,0v79.681a48.146,48.146,0,0,1-5.861,22.985L296.5,307.007l97.662,63.479h0A47.836,47.836,0,0,1,416,410.732Z' class='ci-primary'/>"];const oe=J({email:N().required("Email is required").email("Please enter a valid email address"),password:N().required("Password is required").min(6,"Password must be at least 6 characters")}),ue=()=>{var y,C;const i=I(),o=W(),H=_(),l=R(U),[L,{isLoading:n}]=z(),{data:u}=G(),[g,f]=h.useState(!1),d=((C=(y=H.state)==null?void 0:y.from)==null?void 0:C.pathname)||"/dashboard",{register:m,handleSubmit:F,formState:{errors:r},setValue:b}=K({resolver:$(oe),defaultValues:{email:"",password:"",rememberMe:!1}});h.useEffect(()=>{l.isAuthenticated&&o(d,{replace:!0})},[l.isAuthenticated,o,d]),h.useEffect(()=>{l.error&&i(v())},[]);const P=async s=>{var a;try{i(Z());const t=await L(s).unwrap();i(q(t)),o(d,{replace:!0})}catch(t){const D=((a=t==null?void 0:t.data)==null?void 0:a.message)||"Login failed. Please try again.";i(B(D))}},V=(s,a)=>{b("email",s),b("password",a),f(!1)},M=()=>{i(v())};return e.jsx("div",{className:"bg-light min-vh-100 d-flex flex-row align-items-center",style:{backgroundColor:"var(--harmoni-grey)"},children:e.jsx(O,{children:e.jsx(x,{className:"justify-content-center",children:e.jsxs(c,{md:8,lg:6,children:[e.jsxs(Q,{children:[e.jsx(w,{className:"p-4 shadow-lg",style:{borderRadius:"12px"},children:e.jsx(S,{children:e.jsxs(X,{onSubmit:F(P),children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("div",{className:"mb-3",children:e.jsx("img",{src:"/Harmoni_HSE_360_Logo.png",alt:"HarmoniHSE360 Logo",style:{width:"120px",height:"auto",maxHeight:"80px"}})}),e.jsx("p",{className:"text-medium-emphasis",style:{fontSize:"14px",marginTop:"16px"},children:"Complete Safety. Seamless Harmony."})]}),e.jsx("h3",{className:"mb-3",style:{color:"var(--harmoni-charcoal)",fontFamily:"Poppins, sans-serif"},children:"Welcome Back"}),e.jsx("p",{className:"text-medium-emphasis mb-4",children:"Sign in to your account to continue"}),l.error&&e.jsxs(Y,{color:"danger",dismissible:!0,onClose:M,className:"d-flex align-items-center",children:[e.jsx(p,{icon:T,className:"flex-shrink-0 me-2"}),e.jsx("div",{children:l.error})]}),e.jsxs(A,{className:"mb-3",children:[e.jsx(k,{children:e.jsx(p,{icon:ce})}),e.jsx(E,{...m("email"),type:"email",placeholder:"Email",autoComplete:"username",invalid:!!r.email,disabled:n})]}),r.email&&e.jsx("div",{className:"text-danger small mb-2",children:r.email.message}),e.jsxs(A,{className:"mb-4",children:[e.jsx(k,{children:e.jsx(p,{icon:te})}),e.jsx(E,{...m("password"),type:"password",placeholder:"Password",autoComplete:"current-password",invalid:!!r.password,disabled:n})]}),r.password&&e.jsx("div",{className:"text-danger small mb-3",children:r.password.message}),e.jsx(ee,{...m("rememberMe"),id:"rememberMe",label:"Remember me",className:"mb-4",disabled:n}),e.jsxs(x,{children:[e.jsx(c,{xs:6,children:e.jsx(j,{className:"px-4 py-2",type:"submit",disabled:n,style:{backgroundColor:"var(--harmoni-teal)",borderColor:"var(--harmoni-teal)",borderRadius:"8px",fontWeight:"500",fontSize:"16px",color:"white"},children:n?e.jsxs(e.Fragment,{children:[e.jsx(se,{size:"sm",className:"me-2"}),"Signing in..."]}):"Sign In"})}),e.jsx(c,{xs:6,className:"text-right",children:e.jsx(j,{className:"px-0",onClick:()=>f(!g),style:{color:"var(--harmoni-teal)",textDecoration:"none",background:"none",border:"none",fontSize:"14px"},children:"Demo Users"})})]})]})})}),e.jsx(w,{className:"text-white py-5",style:{width:"44%",background:"linear-gradient(135deg, var(--harmoni-teal) 0%, var(--harmoni-blue) 100%)",borderRadius:"12px"},children:e.jsx(S,{className:"text-center",children:e.jsxs("div",{children:[e.jsx("h2",{style:{fontFamily:"Poppins, sans-serif",fontWeight:"600"},children:"Welcome to HarmoniHSE360"}),e.jsx("p",{className:"mb-4",style:{fontSize:"16px",opacity:"0.9"},children:"360° Coverage for a Safer School Environment"}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"feature-highlight mb-4",children:[e.jsxs("div",{className:"d-flex align-items-center justify-content-center mb-2",children:[e.jsx("div",{className:"rounded-circle d-flex align-items-center justify-content-center me-3",style:{width:"40px",height:"40px",backgroundColor:"rgba(255,255,255,0.2)"},children:"🛡️"}),e.jsx("h5",{className:"mb-0",style:{fontFamily:"Poppins, sans-serif"},children:"Safety First"})]}),e.jsx("p",{className:"small",style:{opacity:"0.8"},children:"Complete incident reporting and management"})]}),e.jsxs("div",{className:"feature-highlight mb-4",children:[e.jsxs("div",{className:"d-flex align-items-center justify-content-center mb-2",children:[e.jsx("div",{className:"rounded-circle d-flex align-items-center justify-content-center me-3",style:{width:"40px",height:"40px",backgroundColor:"rgba(255,255,255,0.2)"},children:"📊"}),e.jsx("h5",{className:"mb-0",style:{fontFamily:"Poppins, sans-serif"},children:"Real-time Analytics"})]}),e.jsx("p",{className:"small",style:{opacity:"0.8"},children:"Live dashboards and reporting"})]}),e.jsxs("div",{className:"feature-highlight",children:[e.jsxs("div",{className:"d-flex align-items-center justify-content-center mb-2",children:[e.jsx("div",{className:"rounded-circle d-flex align-items-center justify-content-center me-3",style:{width:"40px",height:"40px",backgroundColor:"rgba(255,255,255,0.2)"},children:"🌿"}),e.jsx("h5",{className:"mb-0",style:{fontFamily:"Poppins, sans-serif"},children:"Environmental Care"})]}),e.jsx("p",{className:"small",style:{opacity:"0.8"},children:"Sustainable practices tracking"})]})]})]})})})]}),g&&u&&e.jsx(x,{className:"mt-4",children:e.jsx(c,{children:e.jsxs(ae,{color:"info",children:[e.jsx("h5",{children:"Demo User Accounts"}),e.jsx("p",{children:"Click on any user below to auto-fill login credentials:"}),e.jsx(re,{children:u.users.map((s,a)=>e.jsxs(ie,{itemKey:a,children:[e.jsxs(le,{children:[e.jsx("strong",{children:s.name})," - ",s.role]}),e.jsx(ne,{children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"mb-1",children:[e.jsx("strong",{children:"Email:"})," ",s.email]}),e.jsxs("p",{className:"mb-1",children:[e.jsx("strong",{children:"Password:"})," ",s.password]}),e.jsxs("p",{className:"mb-0",children:[e.jsx("strong",{children:"Role:"})," ",s.role]})]}),e.jsx(j,{color:"primary",size:"sm",onClick:()=>V(s.email,s.password),children:"Use Credentials"})]})})]},a))})]})})})]})})})})};export{ue as default};
